#template /templates/main.html

<head>
    @use (~/assets/js/shader.js[defer], ./index.css);

    @page {
        title: "LSTV | Home";
        description: "Welcome to the home of LSTV.space.";
        keywords: "LSTV, home, projects, services, community";
    }
</head>

<div .content>
    <div .full-height .logo-board>
        <div #logo>
            <img src="/assets/image/prism_light.png" fetchpriority="high" srcset="/assets/image/prism_light.png 1x, /assets/image/prism_light_2x.png 2x" alt="LSTV Triangle Logo" draggable="false">
        
            <div .stripe-container>
                <div style="--c: 237, 108, 48; --d: 0.4s" />
                <div style="--c: 252, 194, 27; --d: 0.2s" />
                <div style="--c: 64, 192, 231; --d: 0s" />
            </div>
        </div>
    
        <span .logo_text>LSTV</span>
    
        <canvas #raysBga style="object-position: bottom center; z-index: -1" .bga />
        <div #chevron .visible .mono .level-top><i class="bi-chevron-down"></i> Scroll down <i class="bi-chevron-down"></i></div>
    </div>
    
    <div .level-0>
        <div .marqueeBar .mono .level-3>
            <div>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
            </div>
        </div>
    
        <div .padding>
            <canvas #glCanvas .bga />
    
            <div .guy-lore .mono .padding>
                <div style="z-index: 5">
    
                    <h1>Who is Lukas?</h1>
    
                    <ls-div .margin-bottom-xxlarge>
                        <ls-div>
                            My name is <b>{{ about.name }} / {{ about.name_alt }}</b>.<br>
                            I am an {{ about.age }} years old student in IT, with about {{ about.coding_years }} years of coding experience, {{ about.design_years }} years of design experience, and ~{{ about.music_years }} year of sound design experience, all self-taught. (More information on my <a target="_blank" .poppable-link .underline-link .has-icon style="--accent: #000; --hover-color: #fff" href="https://github.com/the-lstv"><i .bi-github /> Github profile</a>).
                        </ls-div>
    
                        <ls-div>
                            I design and develop software, attempt making music, and develop games. I do all kinds of things from networking, hardware, libraries and utility to creative software. I also enjoy video editing, sound composition and design, writing, animating, you name it.<br>
                            My current main area of expertise is software optimization, design, graphics/rendering software, and networking software. I'm a bit of a perfectionist.
                        </ls-div>
    
                        <ls-div>
                            <b>Note:</b> LSTV is actuallly not my nickname. To refer to me, please use my name or an alias.<br><br>
                            On this website I showcase my works and write blogs, but it is also the center of LSTV's services and products, not just my personal website. There is a lot more to explore!<br>
                            My favorite artists: <a target="_blank" .poppable-link .underline-link .koba-button style="--accent: #6817eb" href="https://www.youtube.com/@Kobaryo">Kobaryo</a>, <a target="_blank" .poppable-link .underline-link style="--accent: #a81446" href="https://www.youtube.com/channel/UCV4ggxLd_Vz-I-ePGSKfFog">Camellia</a>.<br>
                            If you want to know more about me or my current status, ---
                        </ls-div>
                    </ls-div>
    
                    <ls-div>
                        <ls-div>
                            <h1>What's LSTV?</h1>
                            LSTV is a broad term describing a community of developers, artists, and producers (or people who enjoy what we make), aiming to provide an open, universal environment to create and share awesome high-quality projects.<br>
                            It is also the label under which we release our software, etc., but there are also other brands under the LSTV label that branch out into different areas.<br>
                        </ls-div>
    
                        <ls-div .margin-top-xxxlarge>
                            <div style="text-align: center">
                                <a href="https://discord.gg/jQm9yGKCEC" target="_blank" .ls-button .pill style="padding: 12px 45px; display: inline-flex; align-items: center">
                                    <i .bi-discord style="font-size: xx-large; margin-right: 20px"></i>
                                    Join our Discord server!
                                </a>
                            </div>
                        </ls-div>
                    </ls-div>

                    <ls-div .margin-top-xxlarge>
                        <a href="https://endof10.org/" ls-accent="blue" target="_blank" .ad-link>
                            <ls-box>
                                <button .ad-close .circle><i .bi-x-lg></i></button>
                                Tired of bloat and spyware? Being forced to use Windows 11? Linux is really good nowadays! Give it a try and see if it works for you.<br>
                                If you need help or want to discuss anything, you can reach out to me directly (I have been a full-time Linux user for a couple of years), and also check out EnfOf10.org.
                                <span>This is not a sponsored message.</span>
                            </ls-box>
                        </a>
                    </ls-div>
    
                </div>
            </div>
        </div>
    
        <div .marqueeBar .mono .level-3>
            <div>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
                <span>Welcome to LSTV.space</span>
            </div>
        </div>
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px; padding: 20px 0">

        <div>
            <svg .showcase-intro-text xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" height="50" viewbox="0 0 358 50" fill="none"><path d="M31.43 10.555l-2.109-.938c-.797-.344-1.711-.648-2.742-.914-1.016-.266-2.164-.484-3.445-.656-1.281-.187-2.703-.281-4.266-.281-1.891 0-3.578.109-5.062.328-1.469.219-2.719.563-3.75 1.031-1.016.453-1.797 1.031-2.344 1.734-.531.703-.797 1.539-.797 2.508a3.26 3.26 0 0 0 .75 2.133c.516.609 1.203 1.148 2.062 1.617.875.469 1.891.898 3.047 1.289l3.703 1.078 4.031 1.008 4.031 1.125c1.313.391 2.547.836 3.703 1.336 1.172.484 2.188 1.055 3.047 1.711.875.656 1.562 1.406 2.062 2.25.516.844.773 1.82.773 2.93 0 1.203-.227 2.258-.68 3.164a7.37 7.37 0 0 1-1.852 2.32c-.766.641-1.672 1.18-2.719 1.617a19.24 19.24 0 0 1-3.328 1.008c-1.172.25-2.391.422-3.656.516l-3.703.164c-2.797 0-5.336-.203-7.617-.609-2.266-.406-4.43-.961-6.492-1.664v-3.586c2.125 1.266 4.367 2.133 6.727 2.602 2.375.469 4.867.703 7.476.703 1.844 0 3.547-.109 5.109-.328s2.914-.562 4.055-1.031c1.141-.484 2.024-1.109 2.649-1.875.641-.766.961-1.703.961-2.813a3.74 3.74 0 0 0-.774-2.344c-.5-.672-1.187-1.258-2.062-1.758-.859-.516-1.875-.969-3.047-1.359l-3.68-1.078-4.031-.984-4.008-1.055-3.703-1.266c-1.156-.469-2.172-1.016-3.047-1.641-.859-.641-1.547-1.375-2.062-2.203-.5-.828-.75-1.789-.75-2.883 0-1.078.203-2.031.609-2.859a6.7 6.7 0 0 1 1.664-2.18c.719-.609 1.555-1.117 2.508-1.523.953-.422 1.969-.75 3.047-.984 1.094-.25 2.226-.43 3.398-.539l3.469-.164 3.539.164 3.234.445 3.047.609 3.024.75v3.375zM74.977 38V22.391H46.125V38h-2.93V5.797h2.93v13.875h28.852V5.797h2.93V38h-2.93zm52.429-16.078c0 2.891-.523 5.391-1.57 7.5-1.047 2.094-2.484 3.828-4.313 5.203-1.828 1.359-3.984 2.367-6.468 3.023s-5.164.984-8.039.984c-2.891 0-5.586-.328-8.086-.984s-4.672-1.664-6.516-3.023a14.46 14.46 0 0 1-4.336-5.203c-1.047-2.109-1.57-4.609-1.57-7.5 0-1.922.242-3.664.727-5.227.484-1.578 1.164-2.984 2.039-4.219.875-1.25 1.93-2.328 3.164-3.234a18.57 18.57 0 0 1 4.148-2.25c1.531-.609 3.172-1.055 4.922-1.336 1.75-.297 3.586-.445 5.508-.445 2.875 0 5.554.328 8.039.984s4.64 1.672 6.468 3.047c1.829 1.359 3.266 3.094 4.313 5.203 1.047 2.094 1.57 4.586 1.57 7.477zm-3.023 0c0-2.281-.375-4.297-1.125-6.047-.735-1.75-1.828-3.219-3.281-4.406-1.454-1.203-3.266-2.109-5.438-2.719-2.156-.625-4.664-.937-7.523-.937s-5.383.313-7.571.938c-2.172.625-3.992 1.539-5.461 2.742a11.27 11.27 0 0 0-3.328 4.43c-.75 1.75-1.125 3.75-1.125 6 0 2.281.375 4.297 1.125 6.047a11.5 11.5 0 0 0 3.328 4.43c1.469 1.188 3.289 2.094 5.461 2.719 2.188.609 4.711.914 7.571.914s5.367-.305 7.523-.914c2.172-.625 3.984-1.531 5.438-2.719a11.39 11.39 0 0 0 3.281-4.43c.75-1.75 1.125-3.766 1.125-6.047zm38.555-16.125l11.484 29.859 11.906-29.859h3.258L176.625 38h-4.359L160.969 8.914 149.695 38h-4.359L132.375 5.797h3.258l11.906 29.859L159 5.797h3.938zm66.89 29.648l-3.351 1.289a32.37 32.37 0 0 1-3.422 1.008c-1.188.281-2.438.5-3.75.656s-2.743.234-4.289.234c-1.907 0-3.743-.156-5.508-.469-1.75-.312-3.383-.781-4.899-1.406s-2.89-1.398-4.125-2.32c-1.234-.937-2.296-2.023-3.187-3.258-.875-1.234-1.555-2.625-2.039-4.172-.469-1.547-.703-3.242-.703-5.086s.234-3.539.703-5.086c.484-1.547 1.164-2.937 2.039-4.172a14.91 14.91 0 0 1 3.187-3.234c1.235-.937 2.61-1.719 4.125-2.344s3.149-1.094 4.899-1.406 3.586-.469 5.508-.469c1.546 0 2.976.078 4.289.234s2.562.375 3.75.656a32.35 32.35 0 0 1 3.422 1.008l3.351 1.266v3.516c-.89-.562-1.844-1.094-2.859-1.594a23.48 23.48 0 0 0-3.305-1.313c-1.172-.375-2.43-.672-3.773-.891s-2.782-.328-4.313-.328c-3.094 0-5.773.336-8.039 1.008s-4.141 1.625-5.625 2.859a11.27 11.27 0 0 0-3.281 4.453c-.703 1.734-1.055 3.68-1.055 5.836s.352 4.101 1.055 5.836c.719 1.734 1.812 3.219 3.281 4.453 1.484 1.219 3.359 2.164 5.625 2.836 2.266.656 4.945.984 8.039.984a27.29 27.29 0 0 0 4.336-.328c1.375-.219 2.656-.516 3.844-.891 1.203-.375 2.304-.805 3.304-1.289 1.016-.5 1.938-1.023 2.766-1.57v3.492zM267.68 38v-3.562c-1.125.609-2.407 1.172-3.844 1.688-1.422.516-2.93.961-4.524 1.336-1.578.375-3.203.664-4.874.867s-3.313.305-4.922.305c-2.094 0-3.977-.187-5.649-.562-1.656-.375-3.062-.93-4.219-1.664-1.156-.75-2.046-1.672-2.671-2.766-.625-1.109-.938-2.391-.938-3.844 0-1.437.359-2.703 1.078-3.797.735-1.109 1.774-2.07 3.117-2.883 1.344-.828 2.961-1.523 4.852-2.086 1.906-.578 4.031-1.062 6.375-1.453l7.594-.984 8.625-.656v-2.461c0-1-.188-1.883-.563-2.649a6.04 6.04 0 0 0-1.57-1.992c-.672-.578-1.461-1.055-2.367-1.43-.907-.391-1.891-.703-2.953-.937a24 24 0 0 0-3.329-.492l-3.492-.164c-1.578 0-3.015.078-4.312.234s-2.508.375-3.633.656c-1.125.266-2.203.578-3.234.938l-3.118 1.148V7.367l6.938-1.5c2.469-.437 5.086-.656 7.851-.656 2.344 0 4.532.203 6.563.609 2.031.391 3.797 1.023 5.297 1.898s2.68 2.008 3.539 3.398c.859 1.375 1.289 3.055 1.289 5.039V38h-2.906zm0-17.461c-5.11.281-9.477.68-13.102 1.195-3.609.516-6.562 1.148-8.859 1.898s-3.985 1.625-5.063 2.625c-1.062 1-1.594 2.133-1.594 3.398 0 1.031.258 1.945.774 2.742.531.797 1.289 1.469 2.273 2.016.985.531 2.18.938 3.586 1.219 1.407.266 2.985.398 4.735.398a32.03 32.03 0 0 0 3.187-.164 46.77 46.77 0 0 0 3.305-.492c1.094-.219 2.172-.469 3.234-.75a39.84 39.84 0 0 0 3-.961 23.22 23.22 0 0 0 2.555-1.102c.781-.391 1.437-.789 1.969-1.195V20.539zm39.515-9.984c-.609-.297-1.312-.609-2.109-.938a18.78 18.78 0 0 0-2.742-.914c-1.016-.266-2.164-.484-3.446-.656-1.281-.187-2.703-.281-4.265-.281-1.891 0-3.578.109-5.063.328-1.468.219-2.718.563-3.75 1.031-1.015.453-1.797 1.031-2.343 1.734-.532.703-.797 1.539-.797 2.508a3.26 3.26 0 0 0 .75 2.133c.515.609 1.203 1.148 2.062 1.617.875.469 1.891.898 3.047 1.289 1.172.375 2.406.734 3.703 1.078l4.031 1.008a68.27 68.27 0 0 1 4.032 1.125 33.16 33.16 0 0 1 3.703 1.336c1.172.484 2.187 1.055 3.047 1.711.875.656 1.562 1.406 2.062 2.25.516.844.774 1.82.774 2.93 0 1.203-.227 2.258-.68 3.164a7.36 7.36 0 0 1-1.852 2.32c-.765.641-1.671 1.18-2.718 1.617-1.032.422-2.141.758-3.329 1.008-1.171.25-2.39.422-3.656.516-1.25.109-2.484.164-3.703.164-2.797 0-5.336-.203-7.617-.609-2.266-.406-4.43-.961-6.492-1.664v-3.586a21.1 21.1 0 0 0 6.726 2.602c2.375.469 4.868.703 7.477.703 1.844 0 3.547-.109 5.109-.328s2.914-.562 4.055-1.031c1.141-.484 2.023-1.109 2.648-1.875.641-.766.961-1.703.961-2.813 0-.891-.258-1.672-.773-2.344-.5-.672-1.188-1.258-2.063-1.758-.859-.516-1.875-.969-3.046-1.359-1.157-.391-2.383-.75-3.68-1.078a109.37 109.37 0 0 0-4.031-.984c-1.375-.328-2.711-.68-4.008-1.055s-2.531-.797-3.703-1.266c-1.157-.469-2.172-1.016-3.047-1.641-.86-.641-1.547-1.375-2.063-2.203-.5-.828-.75-1.789-.75-2.883 0-1.078.203-2.031.61-2.859.406-.844.961-1.57 1.664-2.18.718-.609 1.554-1.117 2.508-1.523a15.79 15.79 0 0 1 3.046-.984c1.094-.25 2.227-.43 3.399-.539s2.328-.164 3.469-.164a36.14 36.14 0 0 1 3.539.164 39.38 39.38 0 0 1 3.234.445c1.047.172 2.063.375 3.047.609l3.023.75v3.375zm44.227 25.758c-1.313.406-2.531.758-3.656 1.055a38.21 38.21 0 0 1-3.328.68c-1.094.188-2.211.32-3.352.398-1.125.094-2.367.141-3.727.141-3.156 0-6.007-.383-8.554-1.148s-4.719-1.859-6.516-3.281c-1.781-1.437-3.156-3.172-4.125-5.203s-1.453-4.312-1.453-6.844c0-2.453.461-4.703 1.383-6.75.937-2.047 2.242-3.805 3.914-5.273s3.672-2.609 6-3.422 4.898-1.219 7.711-1.219c2.922 0 5.523.391 7.804 1.172s4.204 1.898 5.766 3.352 2.75 3.219 3.563 5.297c.812 2.063 1.218 4.391 1.218 6.984v.727h-34.336c.172 2 .672 3.805 1.5 5.414s2 2.977 3.516 4.102c1.531 1.125 3.406 1.992 5.625 2.602 2.234.594 4.836.891 7.805.891a29.23 29.23 0 0 0 3.843-.258 37.66 37.66 0 0 0 3.727-.68c1.188-.297 2.273-.625 3.258-.984.984-.375 1.789-.758 2.414-1.148v3.398zm-.234-15.891a14.49 14.49 0 0 0-1.102-4.687c-.625-1.5-1.563-2.82-2.813-3.961-1.234-1.141-2.812-2.047-4.734-2.719-1.906-.672-4.195-1.008-6.867-1.008-2.516 0-4.719.336-6.61 1.008s-3.492 1.578-4.804 2.719a12.52 12.52 0 0 0-3.094 3.938c-.75 1.484-1.226 3.055-1.43 4.711h31.454z" fill="url(#A)"/><defs><linearGradient id="A" x1="178.675" y1="-24.5" x2="179.445" y2="49.995" gradientUnits="userSpaceOnUse"><stop stop-color="#fff"/><stop offset=".811" stop-color="#999" stop-opacity="0"/></linearGradient></defs></svg>
        </div>

        <h1 .mono>I make <span #animated-word/><span #animated-word-cursor>_</span></h1>

        <ls-box .inline .elevated .showcase-buttons>
            <button .elevated .pill data-tab-id="showcase-projects">
                <i .bi-box-seam-fill />
                Projects
            </button>

            <button .pill .clear data-tab-id="showcase-gallery">
                <i .bi-image />
                Designs
            </button>

            <button .pill .clear data-tab-id="showcase-music">
                <i .bi-music-note-beamed />
                Music
            </button>
        </ls-box>
        
        <ls-tabs #showcase-tabs .ls-slide-animation>
            <ls-tab style="position: relative" tab-id="showcase-projects" #showcase-projects></ls-tab>
            <ls-tab style="position: relative" tab-id="showcase-gallery" #showcase-gallery>
                <div .ui-loader style="margin: auto" />
            </ls-tab>
            <ls-tab style="position: relative" tab-id="showcase-music" #showcase-music></ls-tab>
        </ls-tabs>
    </div>
    
    <div #footer .level-1>
        <svg style="width: 300px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290 95" fill="none"><path d="M101.84 73V20.44h10.8v42.48h21.24V73h-32.04zm65.132.72c-3.696 0-6.912-.624-9.648-1.872s-4.848-3-6.336-5.256-2.232-4.92-2.232-7.992h10.8c0 1.776.672 3.192 2.016 4.248 1.392 1.008 3.264 1.512 5.616 1.512 2.256 0 4.008-.504 5.256-1.512 1.296-1.008 1.944-2.4 1.944-4.176 0-1.536-.48-2.856-1.44-3.96s-2.304-1.848-4.032-2.232l-5.328-1.224c-4.464-1.056-7.944-3-10.44-5.832-2.448-2.88-3.672-6.384-3.672-10.512 0-3.072.696-5.736 2.088-7.992 1.44-2.304 3.456-4.08 6.048-5.328s5.664-1.872 9.216-1.872c5.376 0 9.624 1.344 12.744 4.032 3.168 2.64 4.752 6.216 4.752 10.728h-10.8c0-1.68-.6-3-1.8-3.96-1.152-.96-2.832-1.44-5.04-1.44-2.064 0-3.648.48-4.752 1.44-1.104.912-1.656 2.232-1.656 3.96 0 1.536.432 2.856 1.296 3.96.912 1.056 2.184 1.776 3.816 2.16l5.616 1.296c4.656 1.056 8.184 2.976 10.584 5.76 2.4 2.736 3.6 6.24 3.6 10.512 0 3.072-.768 5.784-2.304 8.136-1.488 2.352-3.6 4.176-6.336 5.472-2.688 1.296-5.88 1.944-9.576 1.944zm44.972-.72V30.52h-13.32V20.44h37.44v10.08h-13.32V73h-10.8zm49.004 0l-13.032-52.56h11.16l7.272 33.192.864 4.392c.384 1.776.672 3.288.864 4.536l.72-4.536.792-4.464 7.056-33.12h10.872L274.628 73h-13.68z" fill="url(#TC)"/><path d="M40.321 20H78v14H48.348l-8.027-14z" fill="#ed6c30"/><path d="M51.215 39H78v15H59.816l-8.601-15z" fill="#fcc21b"/><path d="M62.683 59H78v14h-7.29l-8.027-14z" fill="#40c0e7"/><path d="M12.483 68L35 29l22.517 39H12.483z" stroke="var(--color)" stroke-width="9"/><defs><linearGradient id="TC" x1="95" y1="-48.5" x2="279.5" y2="63.5" gradientUnits="userSpaceOnUse"><stop stop-color="#fcc21b"/><stop offset=".465" stop-color="#fcc21b"/><stop offset=".465" stop-color="#ed6c30"/><stop offset=".725" stop-color="#ed6c30"/><stop offset=".725" stop-color="#40c0e7"/></linearGradient></defs></svg>
    
        <div ls-accent="auto" style="line-height: 1.6em; text-align: center">
            <a href="/tos">Terms of Service</a> · <a href="/pp">Privacy Policy</a> <br>
            <a style="font-weight: 100" href="https://github.com/the-lstv/lstv-web"><i class="bi-github"></i> Website GitHub</a>
        </div>
    </div>
</div>

<!--

--- ROADMAP

- [ ] Projects showcase
- [ ] Music showcase
- [ ] Store page
- [ ] App integration
- [ ] Chat platform
- [ ] Blog
- [ ] Better introduction
- [ ] Sitewide navigation
- [ ] Bring back SPA design
- [ ] Reason of insanity

-->

<script>
// window.LOW_PERFORMANCE_MODE = true;

const year = new Date().getFullYear();

const about = LS.Reactive.wrap("about", {
    coding_years: year - 2016,
    design_years: year - 2021,
    music_years: year - 2024,
    age: year - 2007,
    name: "Lukáš",
    name_alt: "Lukas",
    location: "Czech Republic",
    github: "https://github.com/the-lstv"
});

const data = {
    projects: [
        { title: "Akeno", icon: "f2eeab33bc9b7873.svg", description: "Akeno is a very fast, modular, and extensive webserver/backend framework handling various protocols. Akeno makes it easy to manage projects of any scale and includes everything a modern web application needs, with world-class performance.", link: "https://github.com/the-lstv/akeno" },
        { title: "LS", icon: "884695036cdc8c27.webp", description: "A lightweight and modern framework for web applications with tons of high-quality features and a clean API, fast and light reactivity, color system, and more. Used in all of our web projects.", link: "https://github.com/the-lstv/LS" },
        { title: "Atrium", icon: "78320d16cbc51b33.svg", description: "A pure JS, fast and very flexible parser used to parse configs etc.", link: "https://github.com/the-lstv/Atrium" },
        { title: "ExtraGon", icon: "83ab407476b84f97.webp", description: "ExtraGon is our cloud services and hosting platform, offering features from managed storage, accelerated webhosting, VPS, DNS management, APIs, and more.", link: "https://extragon.cloud" },
        { title: "FOSSHome", icon: "8a61a157e6c85819.webp", description: "FOSSHome is a cloud-synced \"WebOS\" launchpad environment with a Linux-like shell and a sleek interface and an extensive window/widget framework, to make you feel right at home. Currently abandoned (for over a year now...) until I work on it again.", link: "https://github.com/the-lstv/fosshome" },
        { title: "Getrox", icon: "d11562ce585e205b.svg", description: "Our crypto-like currency and community platform, used as a token across our services and cloud platform.", link: "" },
        { title: "Unifya", icon: "ff153edceb4394d1.webp", description: "Unifya is an universal data flow framework used across our software to ensure seamless integration.", link: "https://unifya.com" },
        
    ],

    music: [
        { title: "ID - ?", track: "", cover: "", album: "ID", genre: "Speedcore, Metal" },
        { title: "ID - 85", track: "", cover: "", album: "ID", genre: "Speed Eurobeat" },
        { title: "teascramble hardcore", track: "", cover: "", album: "", genre: "Speedcore, Schranz" },
        { title: "ID - 81", track: "", cover: "", album: "ID", genre: "" },
        { title: "hate song", track: "", cover: "", album: "9a17397a31f588c7.webp", genre: "Speedcore" },
        { title: "Subtile Confinement", track: "", cover: "", album: "", genre: "" },
        { title: "Perplexed Projectile", track: "", cover: "fa67922220db2a31.webp", album: "", genre: "Chiptune, Speedcore" },
        { title: "triage colony", track: "", cover: "", album: "", genre: "Rock" },
        { title: "All shapes! feat. Nogako", track: "", cover: "", album: "", genre: "Chiptune, Speedcore, Jazz" },
        { title: "Calm", track: "", cover: "", album: "", genre: "" },
        { title: "Traceback", track: "", cover: "", album: "", genre: "" },
        { title: "argumented cloud feat. xnizrun", track: "", cover: "", album: "", genre: "" },
        { title: "dfglkjdfgklserlhj24", track: "", cover: "", album: "", genre: "" },
        { title: "Axel L", track: "", cover: "", album: "", genre: "Speedcore" },
        { title: "Blocky", track: "", cover: "", album: "", genre: "Chiptune" },
        { title: "Random orchestra", track: "", cover: "", album: "", genre: "Orchestral" },
        { title: "Skibidi aah", track: "", cover: "", album: "", genre: "Piano" },

        { title: "td-1", track: "", cover: "", album: "", genre: "Speedcore" },
        { title: "violin-1 (edit)", track: "", cover: "", album: "", genre: "Speedcore" },

        { title: "Departure", track: "", cover: "", album: "", genre: "Abstract" },
        { title: "San Andreas", track: "", cover: "", album: "", genre: "Abstract" },
        { title: "Uneasy Calm", track: "", cover: "", album: "", genre: "Abstract" },

        { title: "dj toenail ambulance beat - thelstv remix", track: "", cover: "", album: "", genre: "Random" },
    ],

    // art: [
        // { title: "Open-Source security software presentation (Czech)", author: "Lukas", year: "2025", link: "62a9029caca59438.webp" },
        // { title: "Streak", author: "Lukas", year: "2025", link: "fe07e416bf46c720.webp" },
        // { title: "[glitch] Freedom", author: "Lukas", year: "2025", link: "c50819fea178e005.webp" },
        // { title: "[glitch] Glow", author: "Lukas", year: "2025", link: "361429ee764408dd.webp" },
    // ]
}

app.module(document.currentScript, (app, page, container) => {
    class ItemPreview {
        updateLikedStatus(liked) {
            const likeIcon = this.container.querySelector("i");
            if (liked) {
                likeIcon.classList.remove("bi-heart");
                likeIcon.classList.add("bi-heart-fill");
            } else {
                likeIcon.classList.remove("bi-heart-fill");
                likeIcon.classList.add("bi-heart");
            }
        }

        playHeartAnimation(){
            const heart = N("i", {
                class: "bi-heart-fill",
                style: {
                    position: "absolute",
                    left: "0",
                    top: "0",
                    color: "#ed6c30",
                    pointerEvents: "none"
                }
            }).addTo(this.container.querySelector("i")).animate([
                { transform: "scale(1) translate(0, 0)", opacity: 1, offset: 0 },
                { transform: "scale(1.5) translate(10px, -10px)", opacity: 1, offset: 0.3 },
                { transform: "scale(2) translate(-5px, -25px) rotate(10deg)", opacity: 0.2, offset: 0.7 },
                { transform: "scale(2.2) translate(10px, -30px) rotate(20deg)", opacity: 0, offset: 1 }
            ], {
                duration: 1200,
                easing: "ease-in-out"
            }).effect.target;

            setTimeout(() => heart.remove(), 1100);
        }

        playDislikeAnimation(){
            const heart = N("i", {
                class: "bi-heartbreak-fill",
                style: {
                    position: "absolute",
                    left: "0",
                    top: "0",
                    color: "gray",
                    pointerEvents: "none"
                }
            }).addTo(this.container.querySelector("i")).animate([
                { transform: "scale(1.2) translate(0, 0)", opacity: 1 },
                { transform: "scale(.8) translate(0, 30px)", opacity: 0 },
            ], {
                duration: 1200,
                easing: "ease-out"
            }).effect.target;

            setTimeout(() => heart.remove(), 1100);
        }
    }

    class ShowcaseProject extends ItemPreview {
        constructor(project) {
            super();
            const icon = app.cdn + "/file/" + project.icon + (!project.icon.endsWith(".svg") ? "?size=128" : "");
            const _this = this;
            this.container = N({
                class: "showcase-item",
                inner: [
                    N({
                        class: "showcase-item-header",
                        inner: [
                            N({ class: "showcase-item-title", inner: project.title }),
                        ]
                    }),

                    N({
                        class: "showcase-item-content",
                        inner: [
                            N("img", { class: "showcase-item-icon", src: icon, width: "128", height: "128", crossOrigin: "anonymous", alt: project.title, onload() {
                                LS.Color.apply(_this.container, LS.Color.fromImage(this));
                            } }),
        
                            N([
                                N({ class: "showcase-item-description", inner: project.description }),
                            ])
                        ]
                    }),

                    N({
                        class: "showcase-item-tags"
                    })
                ]
            });
        }
    }

    class ShowcaseGalleryItem extends ItemPreview {
        constructor(art) {
            super();
            const _this = this;
            this.container = N({
                class: "showcase-gallery-item",

                onclick(event) {
                    if(event.target.tagName.toLowerCase() === "button" || event.target.closest("button")) return;
                    window.open(app.cdn + "/file/" + art.media, "_blank");
                },

                inner: [
                    N("img", { src: app.cdn + "/file/" + art.media, crossOrigin: "anonymous", alt: art.title, loading: "lazy" }),

                    N([
                        N([
                            N("span", { class: "showcase-item-title", inner: art.title })
                        ]),

                        N([
                            N("button", { tooltip: "Like", class: "pill clear", inner: [N("i", { class: "bi-heart" }), (art.likes? String(art.likes): "0")], onclick() {
                                if(app.isLoggedIn) {
                                    this.disabled = true;
                                    app.auth.fetch("/showcase/like?id=" + art._id).then(data => {
                                        this.disabled = false;

                                        if(data.success) {
                                            if(data.unliked) {
                                                art.likes = Math.max((art.likes || 1) - 1, 0);
                                                _this.playDislikeAnimation();
                                            } else {
                                                art.likes = (art.likes || 0) + 1;

                                                _this.playHeartAnimation();
                                                setTimeout(() => _this.playHeartAnimation(), 300);
                                                setTimeout(() => _this.playHeartAnimation(), 600);
                                            }

                                            this.lastChild.textContent = String(art.likes);
                                            _this.updateLikedStatus(data.liked);
                                        } else {
                                            LS.Toast.show(data.message || "An error occurred.", { timeout: 2000 });
                                        }
                                    }).catch(err => {
                                        console.error(err);
                                        this.disabled = false;
                                        LS.Toast.show("An error occurred while trying to like post.", { timeout: 2000 });
                                    });
                                } else {
                                    LS.Toast.show("You need to be logged in to like artworks.", { timeout: 2000 });
                                    
                                    setTimeout(() => {
                                        const loginButton = document.getElementById("accountsButton");
                                        loginButton.focus();
                                        loginButton.click();
                                    }, 100);
                                }
                            } }),
                        ])
                    ])
                ]
            });

            if(art.liked) this.updateLikedStatus(art.liked);
        }
    }

    class ShowcaseMusicPlayer {
        constructor(item) {

        }
    }

    let bgaSpeedFactor = .001, cloudsCanvas = O("#glCanvas"), introCanvas = O("#raysBga"), cloudsRenderer, blurRenderer, noiseRenderer;
    page.requiresReload = true;

    function customSort(arr) {
        // Create a map for quick lookup of customOrder positions
        const customOrderMap = new Map(customOrder.map((id, index) => [id, index]));
        
        // Sort function
        arr.sort((a, b) => {
            // First, handle customBackOrder by placing those IDs at the end
            const aInBackOrder = customBackOrder.indexOf(a.id) !== -1;
            const bInBackOrder = customBackOrder.indexOf(b.id) !== -1;
            
            if (aInBackOrder && !bInBackOrder) return 1;
            if (!aInBackOrder && bInBackOrder) return -1;
            if (aInBackOrder && bInBackOrder) return customBackOrder.indexOf(a.id) - customBackOrder.indexOf(b.id);
            
            // Then, handle customOrder
            const aOrder = customOrderMap.has(a.id) ? customOrderMap.get(a.id) : customOrder.length;
            const bOrder = customOrderMap.has(b.id) ? customOrderMap.get(b.id) : customOrder.length;
            
            if (aOrder !== bOrder) return aOrder - bOrder;
            
            // Finally, handle customGroups
            for (let group of customGroups) {
                const aInGroup = group.findIndex(item => item === a.id);
                const bInGroup = group.findIndex(item => item === b.id);
                
                if (aInGroup !== -1 && bInGroup !== -1) {
                    return aInGroup - bInGroup;
                }
                if (aInGroup !== -1) return -1;
                if (bInGroup !== -1) return 1;
            }
            
            // Fallback to natural order by ID if none of the above applied
            return a.id - b.id;
        });
    }

    const contentContainer = container.get(".content");

    const showcaseTabs = new LS.Tabs(O("#showcase-tabs"), {
        list: false,
        // slideAnimation: true // This will be available in LS 5.3.0
    });

    container.getAll("[data-tab-id]").forEach(button => {
        button.addEventListener("click", () => {
            const tabId = button.getAttribute("data-tab-id");
            showcaseTabs.set(tabId);
        });
    });

    let projects_loaded = false, music_loaded = false, gallery_loaded = false;

    showcaseTabs.on("changed", function(tab, old) {
        const view = showcaseTabs.currentElement();
        const oldElement = showcaseTabs.tabs.get(old)?.element;
        LS.Animation.slideInToggle(view, oldElement);

        const button = container.get(`[data-tab-id="${tab}"]`);
        const activeButton = container.get(`.showcase-buttons .active`);
        if (activeButton) {
            activeButton.classList.remove('active');
            activeButton.classList.add('clear');
            activeButton.classList.remove('elevated');
        }

        if (button) {
            button.classList.add('active');
            button.classList.remove('clear');
            button.classList.add('elevated');
        }

        switch(tab) {
            case "showcase-projects":
                if(!projects_loaded) {
                    projects_loaded = true;

                    data.projects.forEach((project, index) => {
                        O("#showcase-projects").add((new ShowcaseProject(project)).container);
                    });
                }
                break;

            case "showcase-gallery":
                if(!gallery_loaded) {
                    gallery_loaded = true;

                    app.auth.fetch("/showcase/list?type=1&limit=100", { auth: app.isLoggedIn }).then(data => {
                        O("#showcase-gallery .ui-loader").remove();
                        O("#showcase-gallery").add(N("h3", "This is a rough collection of some of my designs and illustrations that I may update over time."));

                        data.sort((a, b) => (a.order ?? 0) - (b.order ?? 0));

                        data.forEach((art, index) => {
                            O("#showcase-gallery").add((new ShowcaseGalleryItem(art)).container);
                        });
                    }).catch(err => {
                        console.error(err);
                        O("#showcase-gallery .ui-loader").remove();
                        O("#showcase-gallery").add(N("h3", { innerText: "An error occurred while loading artworks." }));
                    });
                }
                break;

            case "showcase-music":
                if(!music_loaded) {
                    music_loaded = true;
                }
                break;
        }
    });

    let wordStopped = true;
    const wordInterval = (() => {
        const words = [
            { text: "software", color: "#40c0e7" },
            { text: "art", color: "#fcc21b" },
            { text: "music", color: "#ed6c30" },
            { text: "games", color: "#6817eb" },
            { text: "experiences", color: "#ff5fa1" },
            { text: "stories", color: "#00c8a8" },
            { text: "solutions", color: "#a81446" },
            { text: "dreams", color: "#b400ff" },
            { text: "tools", color: "#14a800" },
        ];
    
        for(const word of words) {
            word.map = word.text.split("").map(w => N("span", { innerText: w }));
        }
    
        let currentWord = 0;
        const wordContainer = document.getElementById("animated-word");
        const cursor = document.getElementById("animated-word-cursor");
    
        return async () => {
            currentWord = (currentWord + 1) % words.length;
            const { text, color } = words[currentWord];
            wordContainer.style.color = color;
    
            wordContainer.textContent = '';
    
            for(const span of words[currentWord].map) {
                wordContainer.appendChild(span);
                await LS.Animation.fadeIn(span, 80, "up");
                await new Promise(r => setTimeout(r, 30));
            }
            
    
            cursor.style.opacity = 0;
            await new Promise(r => setTimeout(r, 1000));
            cursor.style.opacity = 1;
    
            for(let i = words[currentWord].map.length - 1; i >= 0; i--) {
                await LS.Animation.fadeOut(words[currentWord].map[i], 50, "down");
            }
    
            if(container.scrollTop > innerHeight) {
                wordInterval();
            } else wordStopped = true;
        }
    })();

    let showcase_loaded = false;

    setTimeout(() => {
        let lastScroll = 0;

        const onScroll = () => {
            let scroll = container.scrollTop;

            const frameWidth = 1360 + scroll;
            if(frameWidth <= 1920) contentContainer.style.maxWidth = Math.min(frameWidth, 1920) + "px";

            if (Math.abs(scroll - lastScroll) > 10) {
                container.get("#chevron").class("visible", scroll < 60);

                if(!window.LOW_PERFORMANCE_MODE) {
                    if(cloudsCanvas.isInView()){
                        cloudsRenderer.resume();
                    } else cloudsRenderer.paused = true;
        
                    if(introCanvas.isInView()){
                        blurRenderer.resume();
                    } else blurRenderer.paused = true;
                }

                lastScroll = scroll;
            }

            if(scroll > innerHeight) {
                if(!showcase_loaded) {
                    showcase_loaded = true;
                    showcaseTabs.set(0);
                }

                if(wordStopped) { wordInterval(); wordStopped = false }
            }
        }

        if(!window.LOW_PERFORMANCE_MODE) {
            cloudsRenderer = new CombinedShaderRenderer(cloudsCanvas);
    
            cloudsRenderer.addShaderContext(ShaderSource.clouds(cloudsRenderer.gl), {
                u_time: { type: "uniform1f", value: time => [time * bgaSpeedFactor] },
                u_resolution: { type: "uniform2f", value: () => [cloudsCanvas.width, cloudsCanvas.height] },
                u_speed: { type: "uniform1f", value: [0.196] },
                u_scale: { type: "uniform1f", value: [0] },
                u_colors: { type: "uniform4fv", value: [[1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0]] },
                light: { type: "uniform1f", value: [0.5] },
                shadow: { type: "uniform1f", value: [0.5] },
                tint: { type: "uniform1f", value: [0.5] },
                coverage: { type: "uniform1f", value: [0.3] },
                alpha: { type: "uniform1f", value: [1.0] },
            })
    
            blurRenderer = new CombinedShaderRenderer(introCanvas);

            blurRenderer.addShaderContext(ShaderSource.blurredColors(blurRenderer.gl), {
                u_time: { type: "uniform1f", value: time => [(time * bgaSpeedFactor) + 1000] },
                u_resolution: { type: "uniform2f", value: () => [cloudsCanvas.width, cloudsCanvas.height] },
                u_speed: { type: "uniform1f", value: [0.196] },
                u_scale: { type: "uniform1f", value: [4] },
                u_colors: { type: "uniform4fv", value: [[0.25098039215686274,0.7529411764705882,0.9058823529411765,1,0.9882352941176471,0.7607843137254902,0.10588235294117647,1,0.9294117647058824,0.4235294117647059,0.18823529411764706,1,0,0,0,0]] },
                u_blur: { type: "uniform1f", value: [1] },
                u_animate: { type: "uniform1f", value: [1] },
                u_animate_speed: { type: "uniform1f", value: [1] },
                u_frequency: { type: "uniform1f", value: [0] },
                alpha: { type: "uniform1f", value: [1] },
            })

            blurRenderer.addShaderContext(new ShaderSource(blurRenderer.gl, `attribute vec2 a_position; varying vec2 vUV; void main() { vUV = (a_position + 1.0) / 2.0; gl_Position = vec4(a_position, 0.0, 1.0); }`, `
precision mediump float;
varying vec2 vUV;
uniform vec2 resolution;
uniform float time;
uniform vec4 areaBounds;   // vec4(centerX, centerY, radiusX, radiusY) in 0..1 UV space
uniform float areaFeather; // smooth edge width in UV units
uniform float areaInvert;  // 0.0 = inside oval, 1.0 = outside oval

vec2 hash22(vec2 p) {
    p = fract(p * vec2(123.34, 345.45));
    p += dot(p, p + 34.345);
    return fract(vec2(p.x * p.y, p.x + p.y));
}

vec2 randomDir(vec2 r) {
    vec2 d = r - 0.5;
    float len = length(d);
    return len < 0.001 ? vec2(0.0, 1.0) : d / len;
}

float densityMap(vec2 uv, float t) {
    // Moving density waves
    float wave1 = sin(uv.x * 3.0 + t * 0.5) * 0.5 + 0.5;
    float wave2 = sin(uv.y * 4.0 - t * 0.3) * 0.5 + 0.5;

    // Circular density zones that move
    vec2 center1 = vec2(0.5 + sin(t * 0.4) * 0.3, 0.5 + cos(t * 0.3) * 0.3);
    vec2 center2 = vec2(0.5 - sin(t * 0.5) * 0.2, 0.5 - cos(t * 0.4) * 0.2);

    float dist1 = length(uv - center1);
    float dist2 = length(uv - center2);

    float zone1 = exp(-dist1 * 3.0);
    float zone2 = exp(-dist2 * 4.0);

    // Combine patterns
    float density = wave1 * wave2 * 0.3 + zone1 * 0.5 + zone2 * 0.4;

    return mix(0.4, 1.4, density);
}

float sparkleContribution(vec2 cellPos, vec2 fragPos, float tMove, float tEffect, float density) {
    vec2 rand = hash22(cellPos);

    // Use density to cull particles probabilistically
    if (rand.x > density) return 0.0;

    vec2 dir = randomDir(rand);
    float speed = mix(0.08, 0.24, rand.x);
    vec2 center = fract(rand + dir * tMove * speed);
    vec2 diff = (cellPos + center) - fragPos;
    float size = mix(0.01, 0.12, rand.y);
    float spark = exp(-pow(length(diff) / size, 6.5));
    float life = fract(tEffect * mix(0.5, 1.2, rand.x) + rand.y);
    float fade = smoothstep(0.0, 0.2, life) * (1.0 - smoothstep(0.75, 1.0, life));

    // Add bright glare during initial fade-in
    float glare = smoothstep(0.0, 0.05, life) * (1.0 - smoothstep(0.05, 0.15, life));
    float glareBrightness = glare * 2.5;

    float twinkle = 0.5 + 0.5 * sin(tEffect * 0.01 * mix(6.0, 14.0, rand.x) + rand.y * 6.283);
    return spark * twinkle * fade * (1.0 + glareBrightness);
}

float ovalMask(vec2 uv) {
    // Dynamic shape modulation
    float breathe = sin(time * 0.8) * 0.15;
    float pulse = sin(time * 1.2) * 0.1;

    vec2 center = areaBounds.xy;
    vec2 radius = areaBounds.zw;

    // Modulate radii for breathing effect
    radius.x += breathe;
    radius.y += pulse;

    // Add subtle warping
    float angle = atan(uv.y - center.y, uv.x - center.x);
    float warp = sin(angle * 3.0 + time * 0.5) * 0.05;

    vec2 diff = (uv - center) / (radius + warp);
    float dist = length(diff);

    float feather = max(areaFeather, 1e-4);
    float mask = 1.0 - smoothstep(1.0 - feather, 1.0 + feather, dist);

    return mix(mask, 1.0 - mask, clamp(areaInvert, 0.0, 1.0));
}

// vec4 getStripeColor(vec2 pixelCoord) {
//     float stripeHeight = 40.0;
//     float gap = 20.0;
//     float totalHeight = stripeHeight * 3.0 + gap * 2.0;
//     float centerY = resolution.y * 0.5;
//     float startY = centerY - totalHeight * 0.5;
    
//     float y = pixelCoord.y;
    
//     // Stripe 1: rgb(237, 108, 48)
//     if (y >= startY && y < startY + stripeHeight) {
//         return vec4(237.0/255.0, 108.0/255.0, 48.0/255.0, 1.0);
//     }
    
//     // Stripe 2: rgb(252, 194, 27)
//     float stripe2Start = startY + stripeHeight + gap;
//     if (y >= stripe2Start && y < stripe2Start + stripeHeight) {
//         return vec4(252.0/255.0, 194.0/255.0, 27.0/255.0, 1.0);
//     }
    
//     // Stripe 3: rgb(64, 192, 231)
//     float stripe3Start = stripe2Start + stripeHeight + gap;
//     if (y >= stripe3Start && y < stripe3Start + stripeHeight) {
//         return vec4(64.0/255.0, 192.0/255.0, 231.0/255.0, 1.0);
//     }
    
//     return vec4(0.0);
// }

void main() {
    vec2 uv = gl_FragCoord.xy / resolution.xy;
    vec2 fragPos = uv * vec2(50.0, 28.0);
    vec2 baseCell = floor(fragPos);
    float tMove = time * 2.0;
    float tEffect = time * 0.6;

    // Calculate density for this UV position
    float density = densityMap(uv, time);

    float glow = 0.0;
    for (int y = -1; y <= 1; y++) {
        for (int x = -1; x <= 1; x++) {
            vec2 cell = baseCell + vec2(float(x), float(y));
            glow += sparkleContribution(cell, fragPos, tMove, tEffect, density);
        }
    }
    float areaMask = ovalMask(uv);
    glow = clamp(glow * areaMask, 0.0, 1.0);
    vec3 color = vec3(1.0) * glow;
    float alpha = glow * 0.85;

    // // Add stripes
    // vec4 stripeColor = getStripeColor(gl_FragCoord.xy);
    // if (stripeColor.a > 0.0) {
    //     color = stripeColor.rgb;
    //     alpha = 1.0;
    // }
    
    gl_FragColor = vec4(color, alpha);
}
`),
            {
                time: { type: "uniform1f", value: time => [time * bgaSpeedFactor] },
                resolution: { type: "uniform2f", value: () => [innerWidth, innerHeight] },
                areaBounds: { type: "uniform4f", value: [0.5, 0.0, 1.0, 0.2] },
                areaFeather: { type: "uniform1f", value: [1.0] },
                areaInvert: { type: "uniform1f", value: [0.0] },
            })
    
            blurRenderer.resume();
        }


        onScroll();
        container.classList.add("vfx-loaded");
        container.addEventListener("scroll", onScroll);
    }, 50);
});
</script>